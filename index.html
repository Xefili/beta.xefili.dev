<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&family=Roboto+Flex:opsz,wdth,wght@8..144,112.5,400;8..144,112.5,700;8..144,112.5,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/app.css">
    <title>Documentation - Home</title>
</head>
<body class="dark:bg-[#131313] dark:text-white font-circle h-full">
    <pageHead class="fixed z-50 block h-12 w-full shadow-md dark:text-white">
        <leftDivision class="h-12 inline-grid grid-cols-[1fr 1fr] gap-2 justify-center items-center">
            <logoText class="col-start-2">
                <span class="font-circleBold font-black">Documentation</span>
            </logoText>
        </leftDivision>
        <navBar class="flex float-right h-12 items-center justify-evenly">
            <a href="https://api.xefili.dev/v1/">
                <home class="flex items-center font-circleBold mr-8 md:before:content-['API⠀']"><span class="material-symbols-outlined">api</span></home>
            </a>
            <a href="https://xefili.dev/blog.html">
                <blog class="flex items-center font-circleBold mr-8 md:before:content-['Blog⠀']"><span class="material-symbols-outlined">chat</span></Blog>
            </a>
            <a href="https://xefili.dev/">
                <docs class="flex items-center font-circleBold mr-8 md:before:content-['Home⠀']"><span class="material-symbols-outlined">home</span></Docs>
            </a>
            <a href="https://xefili.dev/tools/index.html">
                <tools class="flex items-center font-circleBold mr-8 md:before:content-['Tools⠀']"><span class="material-symbols-outlined">construction</span></search>
            </a>
        </navBar>
    </pageHead>
    <div class="flex flex-col lg:flex-row items-center gap-4 bg-red-500/70 text-black py-1 px-2 m-2 rounded-lg fixed bottom-0 right-0 z-50" onclick="openPP()" id="container">
        <e class="material-symbols-outlined text-red-300 text-4xl">policy_alert</e>
        <div class="flex-col hidden" id="privacyPolicy">
            <h1>Privacy Notice</h1>
            <p>This, and other pages fetch fonts and icons from Google Fonts. By using the page, you agree to sharing general information, like device ids and your public IP address with Google. I personally collect analytic data, where your data is never shared with any third party and is protected by Cloudflare. This page may store cookies for technical purposes (Cloudflare DDoS protection, remembering user choice - coming soon).</p>
        </div>
    </div>
    <content class="grid grid-cols-1 justify-items-center w-full absolute mt-16">
        <div class="flex flex-col lg:flex-row items-center gap-4 bg-yellow-500/70 text-black p-2 m-2 rounded-lg">
            <e class="material-symbols-outlined text-yellow-300 text-6xl">construction</e>
            <div class="flex flex-col">
                <h1>Under construction...</h1>
                <p>This repo is under heavy development and isn't quite production ready. It's design, content and structure, aswell functionality may change without notice and layout and design may be inconsistent. There is no guarantee for the correctness of the information provided! ~Xefili</p>
            </div>
        </div>
        <h1 class="mx-2 text-3xl bg-clip-text bg-gradient-to-br from-emerald-500 to-cyan-600 text-transparent text-left">Welcome to the new documentation!</h1>
        <p class="mx-2 text-3xl text-gray-600">Find infos on everything, in 3 languages.</p>

        <div class="mt-12 w-full flex flex-col items-center">
            <div class="flex flex-row gap-4 mb-4">
                <div>
                    <label for="eng">English</label>
                    <input type="radio" name="langselect" id="eng" checked>
                </div>
                <div>
                    <label for="deu">Deutsch</label>
                    <input type="radio" name="langselect" id="deu">
                </div>
                <div>
                    <label for="fra">Francais</label>
                    <input type="radio" name="langselect" id="fra">
                </div>
            </div>
            <input class="lg:w-1/2 w-72 mx-4 p-4 rounded-2xl dark:bg-[#1e1f20]" placeholder="search..." type="search" name="search" id="search">
            <ul id="res" class="mt-8 mb-24 flex-col flex gap-2">
            </ul>
        </div>
        
        <div class="flex lg:flex-row flex-col justify-evenly">
            <a href="/en/api/endpoints.html">
                <card class="relative">
                    <h1>API</h1>
                    <p>API documentation and usage examples.</p>
                    <e class="text-3xl material-symbols-outlined bg-white dark:text-white dark:bg-[#131313] rounded-full px-3 py-2 w-fit absolute bottom-0 right-0 m-4">api</e>
                </card>
            </a>
            <a href="/en/building/build.html">
                <card class="relative">
                    <h1>Building</h1>
                    <p>How to build TailwindCSS for production or development use.</p>
                    <e class="text-3xl material-symbols-outlined bg-white dark:text-white dark:bg-[#131313] rounded-full px-3 py-2 w-fit absolute bottom-0 right-0 m-4">window ios dns</e>
                </card>
            </a>
        </div>
    </content>
</body>
<script>
function openPP() {
    document.getElementById("privacyPolicy").classList.toggle("hidden");
    document.getElementById("container").classList.toggle("bg-red-500/70");
    document.getElementById("container").classList.toggle("bg-red-500");
}
</script>
<script type="module">
let search = document.getElementById("search");
let res = document.getElementById("res");

// will be fetched from API later on, processing will still be handled client-side.
let data = [
    {
        "title": "Endpoints",
        "parent": "API",
        "link": "api/endpoints.html"
    },
    {
        "title": "Building Tailwind",
        "parent": "Building",
        "link": "building/build.html"
    }
]

import Fuse from 'https://cdn.jsdelivr.net/npm/fuse.js@7.0.0/dist/fuse.mjs';

const fuse = new Fuse(data, {keys:["title", "parent"]});

function getLang() {
    if(document.getElementById("eng").checked) {
        return "en";
    }
    if(document.getElementById("deu").checked) {
        return "de";
    }
    if(document.getElementById("fra").checked) {
        return "fr";
    }
}



search.addEventListener("input", () => {
    let fuzzy = fuse.search(search.value, {limit: 2});
    console.info(fuzzy);
    let a = document.createElement("a");
    let a2 = document.createElement("a");

    a.classList.add("border-2", "border-gray-600", "rounded-lg", "p-4");
    a2.classList.add("border-2", "border-gray-600", "rounded-lg", "p-4");

    if(fuzzy.length == 2) {
        try {
            while (res.firstChild) {
                res.removeChild(res.firstChild);
            }
        } catch(e) {
            console.info("Removed all children...");
        }
        a.setAttribute("href", `/${getLang()}/${fuzzy[0].item.link}`);
        a.innerHTML = `${fuzzy[0].item.title} - ${fuzzy[0].item.parent}`;
        res.appendChild(a);
        a2.setAttribute("href", `/${getLang()}/${fuzzy[1].item.link}`);
        a2.innerHTML = `${fuzzy[1].item.title} - ${fuzzy[1].item.parent}`;
        res.appendChild(a2);
    } else {
        try {
            while (res.firstChild) {
                res.removeChild(res.firstChild);
            }
        } catch(e) {
            console.info("Removed all children...");
        }
        a.setAttribute("href", `/${getLang()}/${fuzzy[0].item.link}`);
        a.innerHTML = `${fuzzy[0].item.title} - ${fuzzy[0].item.parent}`;
        res.appendChild(a);
    }
});
</script>
</html>
<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&family=Roboto+Flex:opsz,wdth,wght@8..144,112.5,400;8..144,112.5,700;8..144,112.5,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/app.css">
    <link rel="shortcut icon" href="assets/logo.svg" type="image/x-icon">
    <title>Documentation - Home</title>
</head>
<body class="dark:bg-dark-100 bg-light-100 dark:text-white font-circle h-full">
    <pageHead class="fixed z-50 block h-12 w-full shadow-md dark:text-white">
        <leftDivision class="h-12 inline-grid grid-cols-[1fr 1fr] gap-2 justify-center items-center">
            <logoText class="col-start-2">
                <span class="font-circleBold font-black">Documentation</span>
            </logoText>
        </leftDivision>
        <navBar class="flex float-right h-12 items-center justify-evenly">
            <a href="https://api.xefili.dev/v1/">
                <home class="flex items-center font-circleBold mr-8 md:before:content-['API⠀']"><span class="material-symbols-outlined">api</span></home>
            </a>
            <a href="https://xefili.dev/blog.html">
                <blog class="flex items-center font-circleBold mr-8 md:before:content-['Blog⠀']"><span class="material-symbols-outlined">chat</span></Blog>
            </a>
            <a href="https://xefili.dev/">
                <docs class="flex items-center font-circleBold mr-8 md:before:content-['Home⠀']"><span class="material-symbols-outlined">home</span></Docs>
            </a>
            <a href="https://xefili.dev/tools/index.html">
                <tools class="flex items-center font-circleBold mr-8 md:before:content-['Tools⠀']"><span class="material-symbols-outlined">construction</span></search>
            </a>
        </navBar>
    </pageHead>
    <div class="flex flex-col lg:flex-row items-center gap-4 bg-red-500/70 text-black py-1 px-2 m-2 rounded-lg fixed bottom-0 right-0 z-50" onclick="openPP()" id="container">
        <e class="material-symbols-outlined text-red-300 text-4xl">policy_alert</e>
        <div class="flex-col hidden" id="privacyPolicy">
            <h1>Privacy Notice</h1>
            <p>This, and other pages fetch fonts and icons from Google Fonts. By using the page, you agree to sharing general information, like device ids and your public IP address with Google. I personally collect analytic data, where your data is never shared with any third party and is protected by Cloudflare. This page may store cookies for technical purposes (Cloudflare DDoS protection, remembering user choice - coming soon).</p>
        </div>
    </div>
    <content class="grid grid-cols-1 justify-items-center w-full absolute mt-16">
        <div class="flex flex-col lg:flex-row items-center gap-4 bg-green-500/70 text-black p-2 m-2 rounded-lg">
            <e class="material-symbols-outlined text-green-300 text-6xl">checklist</e>
            <div class="flex flex-col">
                <h1>Almost done!</h1>
                <p>The documentation is almost done and ready to be published! Though there may be minor problems and source code issues, the scaffold and content is finished. Missing translations will be added soon.</p>
            </div>
        </div>
        <h1 class="mx-2 text-3xl bg-clip-text bg-gradient-to-br from-emerald-500 to-cyan-600 text-transparent text-left">Welcome to the new documentation!</h1>
        <p class="mx-2 text-3xl text-gray-600">Find infos on everything, in 3 languages.</p>

        <div class="mt-12 w-full flex flex-col items-center">
            <div class="relative lg:w-1/2 w-full m-2 grid grid-rows-2 grid-cols-1 justify-center items-center">
                <input class="lg:absolute lg:w-full relative p-4 rounded-2xl dark:bg-dark-200 bg-light-200 align-middle m-2" placeholder="search..." type="search" name="search" id="search">
                <div class="lg:absolute relative right-2 lg:block flex lg:justify-center">
                    <div id="radios" class="flex flex-row lg:justify-around lg:w-2/3"></div>
                </div>
            </div>
            <ul id="res" class="mt-8 mb-24 flex-col flex gap-2">
            </ul>
        </div>
        
        <div class="flex lg:flex-row flex-col justify-evenly">
            <a href="/en/api/endpoints.html">
                <card class="relative">
                    <h1>API</h1>
                    <p>API documentation and usage examples.</p>
                    <e class="text-3xl material-symbols-outlined bg-light-300 dark:text-white dark:bg-dark-300 rounded-full px-3 py-2 w-fit absolute bottom-0 right-0 m-4">api</e>
                </card>
            </a>
            <a href="/en/building/build.html">
                <card class="relative">
                    <h1>Building</h1>
                    <p>How to build TailwindCSS for production or development use.</p>
                    <e class="text-3xl material-symbols-outlined bg-light-300 dark:text-white dark:bg-dark-300 rounded-full px-3 py-2 w-fit absolute bottom-0 right-0 m-4">window ios dns</e>
                </card>
            </a>
            <a href="/en/opensource/contribute.html">
                <card class="relative">
                    <h1>Contributing</h1>
                    <p>How to contribute and report mistakes and issues.</p>
                    <e class="text-3xl material-symbols-outlined bg-light-300 dark:text-white dark:bg-dark-300 rounded-full px-3 py-2 w-fit absolute bottom-0 right-0 m-4">crowdsource</e>
                </card>
            </a>
        </div>
        <div id="test" class="flex flex-row w-full gap-4 justify-center">

        </div>
    </content>
</body>
<script>

function radiofy() {
    for(let i = 0; i < document.getElementsByClassName("x-chip").length; i++) {
        document.getElementsByTagName("x-chip")[i].classList.remove("selected");
    }
}

class Chip extends HTMLElement {
    constructor() {
        super();
    }
    connectedCallback() {
        this.innerHTML = `
            <chip class="px-2 py-1 bg-dark-200 x-chip"></chip>
        `;
        this.addEventListener("click", () => {
            radiofy();
            this.classList.toggle("selected");
        });
    }
}

customElements.define("x-chip", Chip);

document.getElementById("radios").appendChild(new Chip()).id = "eng";
document.getElementById("radios").appendChild(new Chip()).id = "deu";
document.getElementById("radios").appendChild(new Chip()).id = "fra";
document.getElementById("eng").children[0].innerHTML = "English";
document.getElementById("eng").classList.add("selected");
document.getElementById("deu").children[0].innerHTML = "Deutsch";
document.getElementById("fra").children[0].innerHTML = "Francais";

</script>
<script>
function openPP() {
    document.getElementById("privacyPolicy").classList.toggle("hidden");
    document.getElementById("container").classList.toggle("bg-red-500/70");
    document.getElementById("container").classList.toggle("bg-red-500");
}
</script>
<script type="module">
let search = document.getElementById("search");
let res = document.getElementById("res");

// will be fetched from API later on, processing will still be handled client-side.
let data = [
    {
        "title": "Endpoints",
        "parent": "API",
        "link": "api/endpoints.html",
        "langs": ["en", "de", "fr"]
    },
    {
        "title": "Building Tailwind",
        "parent": "Building",
        "link": "building/build.html",
        "langs": ["en", "de"]
    },
    {
        "title": "Contribute",
        "parent": "Open Source",
        "link": "opensource/contribute.html",
        "langs": ["en", "de"]
    }
]

import Fuse from 'https://cdn.jsdelivr.net/npm/fuse.js@7.0.0/dist/fuse.mjs';

const fuse = new Fuse(data, {keys:["title", "parent"]});

function getLang() {
    if(document.getElementById("eng").classList.contains("selected")) {
        return "en";
    }
    if(document.getElementById("deu").classList.contains("selected")) {
        return "de";
    }
    if(document.getElementById("fra").classList.contains("selected")) {
        return "fr";
    }
}



search.addEventListener("input", () => {
    let fuzzy = fuse.search(search.value, {limit: 2});
    console.info(fuzzy);
    let a = document.createElement("a");
    let a2 = document.createElement("a");

    a.classList.add("border-2", "border-gray-600", "rounded-lg", "p-4");
    a2.classList.add("border-2", "border-gray-600", "rounded-lg", "p-4");

    if(fuzzy.length == 2) {
        try {
            while (res.firstChild) {
                res.removeChild(res.firstChild);
            }
        } catch(e) {
            console.info("Removed all children...");
        }
        if(fuzzy[0].item.langs.includes(getLang())) {
            a.setAttribute("href", `/${getLang()}/${fuzzy[0].item.link}`);
            a.innerHTML = `${fuzzy[0].item.title} - ${fuzzy[0].item.parent}`;
            res.appendChild(a);
        }
        if(fuzzy[1].item.langs.includes(getLang())) {
            a2.setAttribute("href", `/${getLang()}/${fuzzy[1].item.link}`);
            a2.innerHTML = `${fuzzy[1].item.title} - ${fuzzy[1].item.parent}`;
            res.appendChild(a2);
        }
    } else {
        try {
            while (res.firstChild) {
                res.removeChild(res.firstChild);
            }
        } catch(e) {
            console.info("Removed all children...");
        }
        if(fuzzy[0].item.langs.includes(getLang())) {
            a.setAttribute("href", `/${getLang()}/${fuzzy[0].item.link}`);
            a.innerHTML = `${fuzzy[0].item.title} - ${fuzzy[0].item.parent}`;
            res.appendChild(a);
        }
    }
});
</script>
</html>